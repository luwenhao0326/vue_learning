<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        html{
            height: 100%;
        }
        body{
            height: 100%;
            margin: 0;
            overflow: hidden;
        }

        .page{
            width: 100%;
            height: 100%;
        }
        .page:nth-of-type(1){
            background-color: red;
        }
        .page:nth-of-type(2){
            background-color: greenyellow;
        }
        .page:nth-of-type(3){
            background-color: blue;
        }
        .page:nth-of-type(4){
            background-color: purple;
        }
        .page:nth-of-type(5){
            background-color: pink;
        }

        #container{
            position: absolute;
            left: 0;
            top: 0px;
            width: 100%;
            height: 100%;
            transition: all 0.7s;
        }
    </style>
</head>
<body>
    <div id="container">
        <div class="page">

        </div>
        <div class="page"></div>
        <div class="page"></div>
        <div class="page"></div>
        <div class="page"></div>
    </div>

    
    
</body>

<script src="jquery.js"></script>

<script>
    var pageNumber = $(".page").length;

    var currentPage = 0;

    // 记录当前是否正在做动画
    var isAnimating = false;

    function mousewheel(e){
        if(isAnimating){
            return;
        }
        if(e.detail<0){
            // console.log("往上");
            currentPage--;
            if(currentPage<0){
                currentPage = 0;
            }
        }else{
            // console.log("往下");
            currentPage++;
            if(currentPage>=pageNumber){
                currentPage = pageNumber-1;
            }
        }
        isAnimating = true;
        var top = 100*currentPage;
        $("#container").css("top","-"+top+"%");

        setTimeout(function(){
            isAnimating = false;
        },720)
        
    }

    if(navigator.userAgent.indexOf("Chrome")==-1){
        //火狐
        document.addEventListener("DOMMouseScroll",mousewheel);
    }else{
        document.onmousewheel = mousewheel;
    }

    


    

    


    


</script>


</html>